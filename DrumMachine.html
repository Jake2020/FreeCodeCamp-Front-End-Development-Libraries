<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jake's Drum Machine</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style>

        #display {
            border-radius: 10px;
        }

        #sound-display {
            border-radius: 10px;
            border: 1px solid black;
            width: fit-content;
        }

        .custom {
            width: 75px !important;
            border: 2px solid black;
        }


    </style>
  
</head>

<body class="bg-dark text-white">
<div class="container-fluid" id="drum-machine">

    <!-- Header Row -->
    <div class="row">
        <div class="col text-center">
            <h1>Jake's Drum Machine</h1>
        </div>
    </div>

    <!-- Drum Pad Container -->
    <div class="container bg-secondary" id="display">

        <!-- QWE Row -->
        <div class="row">
            <div class="drum-pad col-5 text-end" id="Heater-1">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>Q</h2></button>
                <audio class="clip" id="Q" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"></audio>
            </div>

            <div class="drum-pad col-2 text-center" id="Heater-2">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>W</h2></button>
                <audio class="clip" id="W" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"></audio>
            </div>

            <div class="drum-pad col-5 text-start" id="Heater-3">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>E</h2></button>
                <audio class="clip" id="E" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"></audio>
            </div>
        </div>

        <!-- ASD Row -->
        <div class="row">
            <div class="drum-pad col-5 text-end" id="Heater-4">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>A</h2></button>
                <audio class="clip" id="A" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"></audio>
            </div>

            <div class="drum-pad col-2 text-center" id="Clap">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>S</h2></button>
                <audio class="clip" id="S" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"></audio>
            </div>

            <div class="drum-pad col-5 text-start" id="Open-HH">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>D</h2></button>
                <audio class="clip" id="D" src="https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"></audio>
            </div>
        </div>

        <!-- ZXC Row -->
        <div class="row">
            <div class="drum-pad col-5 text-end" id="Kick-N-Hat">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>Z</h2></button>
                <audio class="clip" id="Z" src="https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"></audio>
            </div>

            <div class="drum-pad col-2 text-center" id="Kick">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>X</h2></button>
                <audio class="clip" id="X" src="https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"></audio>
            </div>

            <div class="drum-pad col-5 text-start" id="Closed-HH">
                <button class="drum-pad-button btn btn-success btn-lg custom" type="button"><h2>C</h2></button>
                <audio class="clip" id="C" src="https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"></audio>
            </div>
        </div>

        <!-- Display Row -->
        <div>
            <div class="row">
                <div class="col-6 text-end h2" id="sound-label"><h2>Sound:</h2></div>
                <div class="col-6 text-start h2 bg-dark" id="sound-display"><h2></h2></div>
            </div>
        </div>

    </div>

</div>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

    <!-- FCC Tests -->  
    <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>

    <!-- Functionality Scripts -->

    <script>

        // Function to play audio and update display
        function playAudio(event) {
        var drumPad = event.target.closest('.drum-pad');
            if (drumPad) {
                var audio = drumPad.querySelector('audio');
                var buttonId = drumPad.id;
                audio.currentTime = 0;
                audio.play();
                updateDisplay(buttonId);
            }
        }

        // Function to update display
        function updateDisplay(text) {
            var display = document.querySelector('#sound-display');
            display.textContent = text;
        }

        // Event listener for button clicks
        var buttons = document.querySelectorAll('.drum-pad');
        buttons.forEach(function(button) {
            button.addEventListener('click', playAudio);
        });

        // Event listener for keydown event
        document.addEventListener('keydown', function(event) {
            var key = event.key.toUpperCase();
            var audio = document.getElementById(key);
            var parentDivId = audio.parentNode.id;
            if (audio) {
                audio.currentTime = 0;
                audio.play();
                updateDisplay(parentDivId);
            }
        });


    </script>

</body>
</html>
